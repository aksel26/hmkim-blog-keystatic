---
title: AWS Lightsail + Nginx + SSLë¡œ Node.js ì•± ë°°í¬í•˜ê¸°
summary: AWS Lightsailì—ì„œ ë„ë©”ì¸ ì—°ê²°, Nginx í¬íŠ¸í¬ì›Œë”©, SSL ì¸ì¦ì„œ ì„¤ì •ê¹Œì§€ Node.js ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ ê³¼ì •ì„ ë‹¨ê³„ë³„ë¡œ ì•Œì•„ë´…ë‹ˆë‹¤.
keywords:
  - Tech
status: published
tags:
  - AWS
  - Nginx
  - SSL
  - ë°°í¬
  - Lightsail
createdAt: 2025-08-03
updatedAt: 2025-08-03
---

## ğŸ“‹ ëª©ì°¨

1. ë„ë©”ì¸ & DNS ì„¤ì •
2. Nginx ì„¤ì •
3. SSL ì¸ì¦ì„œ ì ìš©

## 1. ë„ë©”ì¸ & DNS ì„¤ì •

### ğŸ”§ ì´ˆê¸° ì„¤ì •

ë¨¼ì € AWS Lightsailì—ì„œ ê³ ì • IPë¥¼ ë°›ê³ , ë„ë©”ì¸ì„ ì—°ê²°í•´ì•¼ í•©ë‹ˆë‹¤.

```
AWS ì¸ìŠ¤í„´ìŠ¤ ê³ ì • IP: 13.125.54.11
```

**ì„¤ì • ë‹¨ê³„:**

1. **Lightsail ì½˜ì†”** ì ‘ì†
2. **ë„ë©”ì¸ ë° DNS** â†’ ë„ë©”ì¸ ë“±ë¡ (Route53ì— ë“±ë¡)
3. **ì¸ìŠ¤í„´ìŠ¤** â†’ ë„ë©”ì¸ â†’ ë„ë©”ì¸ ì§€ì • ë“±ë¡

### âš ï¸ ì²« ë²ˆì§¸ ë¬¸ì œ: ë„ë©”ì¸ ì ‘ì† ë¶ˆê°€

Route53ì— ë„ë©”ì¸ì„ ë“±ë¡í•œ í›„ `example.com`ìœ¼ë¡œ ì ‘ì†í•˜ë©´ ì—°ê²°ì´ ì•ˆ ë©ë‹ˆë‹¤.

**ì›ì¸:**

- ë„ë©”ì¸ì´ HTTP í”„ë¡œí† ì½œ(`http://example.com`)ë¡œ ì ‘ì†
- ê¸°ë³¸ HTTP í¬íŠ¸ì¸ **80ë²ˆ**ìœ¼ë¡œ ì ‘ì† ì‹œë„
- Lightsail ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì—ì„œ 80ë²ˆ í¬íŠ¸ê°€ ë§‰í˜€ìˆìŒ

**í•´ê²°:**

- Lightsail ë„¤íŠ¸ì›Œí‚¹ íƒ­ì—ì„œ **80ë²ˆ í¬íŠ¸ í—ˆìš©**

### âš ï¸ ë‘ ë²ˆì§¸ ë¬¸ì œ: 80ë²ˆ í¬íŠ¸ í—ˆìš© í›„ì—ë„ ì ‘ì† ë¶ˆê°€

80ë²ˆ í¬íŠ¸ë¥¼ ì—´ì–´ë„ ì—¬ì „íˆ ì ‘ì†ì´ ì•ˆ ë©ë‹ˆë‹¤.

**ì›ì¸:**

- Node.js ì•±ì´ **3000ë²ˆ í¬íŠ¸**ì—ì„œ ì‹¤í–‰ ì¤‘
- 80ë²ˆ í¬íŠ¸ë¡œ ë“¤ì–´ì˜¨ ìš”ì²­ì„ 3000ë²ˆìœ¼ë¡œ ì „ë‹¬í•´ì£¼ëŠ” **í¬íŠ¸í¬ì›Œë”©** í•„ìš”

**í•´ê²° ë°©ë²• ë¹„êµ:**

| ë°©ë²• | ì¥ì  | ë‹¨ì  |
| --- | --- | --- |
| **ë¡œë“œë°¸ëŸ°ì‹±** | AWS ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ | ë¹„ìš© ë†’ìŒ (ì›” ì•½ 3ë§Œì›) |
| **Nginx** âœ… | ë¬´ë£Œ, ê°€ë³ê³  ë¹ ë¦„ | ì§ì ‘ ì„¤ì • í•„ìš” |

â†’ **Nginxë¥¼ ì„ íƒ**í•˜ì—¬ í¬íŠ¸í¬ì›Œë”© êµ¬í˜„

## 2. Nginx ì„¤ì •

### ğŸ“¦ Nginx ì„¤ì¹˜

SSHë¡œ ì„œë²„ì— ì ‘ì†í•˜ì—¬ Nginxë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.

```bash
sudo apt install nginx
```

### âš™ï¸ Nginx ì„¤ì • íŒŒì¼ ìˆ˜ì •

ì„¤ì • íŒŒì¼ì„ ì—´ì–´ ìˆ˜ì •í•©ë‹ˆë‹¤.

```bash
sudo nano /etc/nginx/sites-available/default
```

**ì£¼ìš” ì„¤ì • ì‚¬í•­:**

1. `server_name`: ë„ë©”ì¸ ì„¤ì •
2. `root`: í”„ë¡œì íŠ¸ ì†ŒìŠ¤ ê²½ë¡œ ì„¤ì •

```
server {
    server_name meal.acg-playground.com;
    root /home/ubuntu/acg-extension/public;

    # ëª¨ë“  ìš”ì²­ ê²½ë¡œì— ëŒ€í•œ ì²˜ë¦¬ ê·œì¹™
    location / {
        proxy_pass <http://localhost:3000>;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    # ì •ì  íŒŒì¼ ì²˜ë¦¬ (ë””ìì¸ ì†ŒìŠ¤)
    location ~* \\.(js|css|png|jpg|jpeg|gif|ico|mp4|json|svg)$ {
        root /home/ubuntu/acg-extension/public/;
        expires max;
        log_not_found off;
    }
}

```

### ğŸ“ Proxy ì„¤ì • ìƒì„¸ ì„¤ëª…

ê° ì„¤ì •ì˜ ì—­í• :

- `proxy_pass <http://localhost:3000>;`: ëª¨ë“  ìš”ì²­ì„ 3000ë²ˆ í¬íŠ¸ë¡œ ì „ë‹¬
- `proxy_http_version 1.1;`: HTTP 1.1 í”„ë¡œí† ì½œ ì‚¬ìš©
- `proxy_set_header Upgrade $http_upgrade;`: WebSocket ì—°ê²° ì§€ì›
- `proxy_set_header Connection 'upgrade';`: WebSocket ì¶”ê°€ ì„¤ì •
- `proxy_set_header Host $host;`: ì›ë˜ ìš”ì²­ì˜ Host í—¤ë” ìœ ì§€
- `proxy_cache_bypass $http_upgrade;`: íŠ¹ì • ì¡°ê±´ì—ì„œ ìºì‹œ ìš°íšŒ

### âœ… ì„¤ì • ê²€ì¦ ë° ì ìš©

ë¬¸ë²• ì˜¤ë¥˜ ì²´í¬:

```bash
sudo nginx -t
```

Nginx ì¬ì‹œì‘:

```bash
sudo systemctl restart nginx
```

## 3. SSL ì¸ì¦ì„œ ì ìš© (Let's Encrypt)

ì´ì œ HTTPì—ì„œ HTTPSë¡œ ì—…ê·¸ë ˆì´ë“œí•˜ì—¬ ë³´ì•ˆì„ ê°•í™”í•©ë‹ˆë‹¤.

### ğŸ” Certbot ì„¤ì¹˜

```bash
sudo apt install certbot python3-certbot-nginx -y
```

### ğŸ“œ SSL ì¸ì¦ì„œ ë°œê¸‰

```bash
sudo certbot --nginx
```

### ğŸ”„ HTTP â†’ HTTPS ë¦¬ë‹¤ì´ë ‰íŠ¸ ì„¤ì •

ì¸ì¦ì„œ ë°œê¸‰ ê³¼ì •ì—ì„œ ë‹¤ìŒ ì„ íƒì§€ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤:

```
Please choose whether or not to redirect HTTP traffic to HTTPS
-------------------------------------------------------------------------------
1: No redirect - Make no further changes to the webserver configuration.
2: Redirect - Make all requests redirect to secure HTTPS access.
-------------------------------------------------------------------------------
Select the appropriate number [1-2] then [enter] (press 'c' to cancel):

```

**ì¶”ì²œ: 2ë²ˆ ì„ íƒ** â†’ HTTP ìš”ì²­ì„ ìë™ìœ¼ë¡œ HTTPSë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

### ğŸ“„ ìë™ ì¶”ê°€ëœ Nginx ì„¤ì •

SSL ì„¤ì • í›„ Nginx íŒŒì¼ì— ìë™ìœ¼ë¡œ ì¶”ê°€ë˜ëŠ” ë‚´ìš©:

```
server {
    server_name meal.acg-playground.com;
    root /home/ubuntu/acg-extension/public;

    location / {
        # ... ê¸°ì¡´ ì„¤ì •
    }

    location ~* \\.(js|css|png|jpg|jpeg|gif|ico|mp4|json|svg)$ {
        # ... ê¸°ì¡´ ì„¤ì •
    }

    # Certbotì´ ìë™ìœ¼ë¡œ ì¶”ê°€í•œ SSL ì„¤ì •
    listen 443 ssl; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/meal.acg-playground.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/meal.acg-playground.com/privkey.pem;
    include /etc/letsencrypt/options-ssl-nginx.conf;
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;
}

```

## ğŸ”„ SSL ì¸ì¦ì„œ ê°±ì‹  ìë™í™”

Let's Encrypt ì¸ì¦ì„œëŠ” **90ì¼ë§ˆë‹¤ ê°±ì‹ **ì´ í•„ìš”í•©ë‹ˆë‹¤. ìë™ ê°±ì‹  ì„¤ì •ìœ¼ë¡œ í¸ë¦¬í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ìë™í™” íƒ€ì´ë¨¸ í™•ì¸

```bash
sudo systemctl list-timers snap.certbot.renew.service

```

### ê°±ì‹  ì„¤ì • íŒŒì¼ ìˆ˜ì •

```bash
sudo nano /etc/letsencrypt/renewal/meal.acg-playground.com.conf

```

**ì¶”ê°€í•  ì„¤ì •:**

```
# ë§Œë£Œ 30ì¼ ì „ì— ê°±ì‹ í•˜ê¸°
renew_before_expiry = 30 days

# ê°±ì‹  ì‹œ ìë™ìœ¼ë¡œ Nginx ì¬ì‹œë™
renew_hook = systemctl reload nginx

```

## ğŸ¯ ë§ˆë¬´ë¦¬

ì´ì œ ë‹¤ìŒê³¼ ê°™ì€ ì™„ë²½í•œ ë°°í¬ í™˜ê²½ì´ êµ¬ì¶•ë˜ì—ˆìŠµë‹ˆë‹¤:

- âœ… ë„ë©”ì¸ìœ¼ë¡œ ì ‘ì† ê°€ëŠ¥ (`https://meal.acg-playground.com`)
- âœ… Nginxë¥¼ í†µí•œ í¬íŠ¸í¬ì›Œë”© (80 â†’ 3000)
- âœ… SSL ì¸ì¦ì„œë¡œ HTTPS ë³´ì•ˆ í†µì‹ 
- âœ… ìë™ ì¸ì¦ì„œ ê°±ì‹  ì„¤ì •

### ğŸ’¡ í•µì‹¬ í¬ì¸íŠ¸

1. **í¬íŠ¸í¬ì›Œë”©**: Nginxë¡œ 80ë²ˆ í¬íŠ¸ë¥¼ ì•±ì˜ 3000ë²ˆ í¬íŠ¸ë¡œ ì—°ê²°
2. **SSL ì¸ì¦**: Let's Encryptë¡œ ë¬´ë£Œ SSL ì¸ì¦ì„œ ë°œê¸‰
3. **ìë™í™”**: ì¸ì¦ì„œ ìë™ ê°±ì‹ ìœ¼ë¡œ ê´€ë¦¬ ë¶€ë‹´ ê°ì†Œ

### ğŸ”— ì°¸ê³  ìë£Œ

- [Nginx ê³µì‹ ë¬¸ì„œ](https://nginx.org/en/docs/)
- [Let's Encrypt ê°€ì´ë“œ](https://letsencrypt.org/getting-started/)
- [AWS Lightsail ë¬¸ì„œ](https://lightsail.aws.amazon.com/ls/docs)

ì²˜ìŒ ë°°í¬ë¥¼ ì§„í–‰í•˜ì‹œëŠ” ë¶„ë“¤ê»˜ ë„ì›€ì´ ë˜ì—ˆê¸°ë¥¼ ë°”ëë‹ˆë‹¤! ê¶ê¸ˆí•œ ì ì€ ëŒ“ê¸€ë¡œ ë‚¨ê²¨ì£¼ì„¸ìš”. ğŸš€